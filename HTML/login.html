<!doctype html>
<html lang="en">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="./assets/css/bootstrap.min.css">

	<!-- Loding font -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:300,700" rel="stylesheet">

<link rel="icon" href="./img/titleicon.jpg">
<link rel="shortcut icon" href="./img/titleicon.jpg">
	<!-- Custom Styles -->
	<link rel="stylesheet" type="text/css" href="./assets/css/loginstyles.css">

	<title>Amazing-Balcony</title>
</head>
<body>

<!-- Backgrounds -->

<div id="login-bg" class="container-fluid">

	<div class="bg-img"></div>
	<div class="bg-color"></div>
</div>

<!-- End Backgrounds -->

<div class="container" id="login">
	<div class="row justify-content-center">
	<div class="col-lg-8">
	  <div class="login" id="content">

		<h1>Login</h1>
		
		<!-- Loging form -->
			  <form>
				<div class="form-group">
				  <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Username" v-model="username">
				  
				</div>
				<div class="form-group">
				  <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password" v-model="password">
				</div>

				  <div class="form-check">

				  <label class="switch">
				  <input type="checkbox">
				  <span class="slider round"></span>
				</label>
				  <label class="form-check-label" for="exampleCheck1">Remember me</label>
				  
				  <label class="forgot-password"><a href="#">Forgot Password?<a></label>

				</div>
			  
				<br>
				<button type="button" class="btn btn-lg btn-block btn-success" v-on:click="dologin">Sign in</button>
			  </form>
		 <!-- End Loging form -->

	</div>
	</div>
</div>


<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="js/vue.js"></script>


<script>
	var app = new Vue({
		el: '#content',
		data: {
			username: "",
			password: ""
		},
		methods: {

			dologin:function(){
				var that = this;
				axios({
					method: 'post',
					url: 'http://47.100.248.118:8888/user/login',
					changeOrigin: false,
					withCredentials: true,
					headers: {
						'Content-Type': 'application/json'
					},
					params: {
						//email:this.email
						username: this.username,
						password: this.password,
					}
				}).then(function(response){
					//alert(response.data.id);
					if(response.data == "1"){
						localStorage.setItem("username",that.username);
						console.log(that.username)
						window.location.href='index.html';
					} else {
						alert("密码错误！")
					}
				});
			},

			doshow: function(index) {
				var that = this;
				that.showsort = this.dataShow[index].sort;
				that.showinfos = this.dataShow[index].infos;
				localStorage.setItem("infos",that.showinfos);
			}
		}
	})
</script>




</body>
</html>
